<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Amicable Numbers</title>
        <style type="text/css">
            h1 {text-align: center;}
            hr {border-top: 2px dotted orange;}
            input {border: 2px solid #FF7B47; margin-bottom: 2px;}
            button {background-color: orange; }
            body {margin: 0 15px;}
        </style>
    </head>
    
    <body>
        <h1>Amicable Number Calculator!</h1>
        <hr>
        <h2>How to use: enter two numbers to check if they are amicable!</h2>
        <div>
            Two numbers are considered amicable if the sum of the factors of 
            one number is equal to the other number, and vice versa. <br>
        </div>        
        <br>
        <form name="form1">
            <input type="int" id ="num1" name="num1"> <br>
            <input type="int" id ="num2" name="num2"> <br>
            <button type="button" id = "submitButton">Check</button>
        </form>
        
        <!-- this is where the results will be written -->
        <div id = "amicable"></div>
        <div id = "nums"></div>            
        <div id = "factors"></div>
        
        <script type="text/javascript">
            window.onload = function()
            {
                btn = document.getElementById("submitButton"); 
                btn.onclick = pressButton;
            }
            
            function pressButton()
            {           
                var num1 = document.getElementById('num1').value; 
                var num2 = document.getElementById("num2").value;
                
                // these are arrays of factors:  
                var factorsA = findFactors(num1); 
                var sum1 = sum(factorsA); 
                
                var factorsB = findFactors(num2);  
                var sum2 = sum(factorsB);
                
                //checking if they are amicable
                checkAmicable(num1, num2, sum1, sum2); 
                
                //printing results by modifying underlying HTML 
                document.getElementById("factors").innerHTML = 
                    "The factors for " + num1 + " are: " + factorsA.join(", ")
                    + "<br> The factors for " + num2 + " are: " + factorsB.join(", ");
            }
            
            // takes a number, returns a list of all its factors
            function findFactors(num)
            {
                arr = []; 
                for (i = 1; i < num; i++)
                {
                    if (num % i == 0)
                        arr.push(i); 
                }
                return arr; 
            }
            
            //takes an array of numbers, returns the sum of all elements
            function sum(arr)
            {
                total = 0; 
                for (i = 0; i < arr.length; i++)
                {
                    total += arr[i]; 
                }
            
                return total; 
            }
            
            //takes in two numbers and two sums, check if one number is 
            //equal to the sum of the factors of the other number 
            function checkAmicable(num1, num2, sum1, sum2)
            {
                if (num1 == sum2 && num2 == sum1)
                    document.getElementById("amicable").innerHTML = 
                    "<br>" + num1 + " and " + num2 + " are amicable! <br>"; 
                else 
                    document.getElementById("amicable").innerHTML = 
                    "<br>" + num1 + " and " + num2 + " are not amicable. <br>"; 
            }   
        </script>
        
    </body>
</html>